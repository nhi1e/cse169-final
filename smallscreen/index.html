<!-- smallscreen/index.html -->
<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>

<input id="msg" placeholder="your message" />
<button onclick="sendMsg()">send</button>

<script>
	const socket = io("http://localhost:3000");

	socket.on("connect", () => {
		console.log("SMALLSCREEN: connected", socket.id);
	});

	socket.on("connect_error", (err) => {
		console.log("SMALLSCREEN: connect error", err);
	});

	socket.on("newMessage", (msg) => {
		console.log("SMALLSCREEN: message from bigscreen:", msg);
	});

	function sendMsg() {
		let text = document.getElementById("msg").value;
		socket.emit("audienceMessage", text);
		console.log("SMALLSCREEN: sent message", text);
	}
</script>
